<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>JavaScript 中的 Date 对象 | 性感知识，在线分享</title>
<link rel="shortcut icon" href="https://tdmaker.github.io/randy-blogs//favicon.ico?v=1563846630692">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://tdmaker.github.io/randy-blogs//styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://tdmaker.github.io/randy-blogs/">
  <img class="avatar" src="https://tdmaker.github.io/randy-blogs//images/avatar.png?v=1563846630692" alt="">
  </a>
  <h1 class="site-title">
    性感知识，在线分享
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/randy-blogs/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>


        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              JavaScript 中的 Date 对象
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2019-07-23 ·
              </time>
              
                <a href="https://tdmaker.github.io/randy-blogs//tag/little-tips-about-cs" class="post-tag">
                  # 技术小知识点
                </a>
              
            </div>
            
            <div class="post-content">
              <pre><code>// Chrome Console
&gt;  Date;
&lt;· ƒ Date() { [native code] }

&gt;  Date();
&lt;· &quot;Tue Jul 23 2019 08:56:20 GMT+0800 (中国标准时间)&quot;
</code></pre>
<!-- more -->
<h1 id="内容">内容</h1>
<p><code>const date = new Date();</code></p>
<table>
<thead>
<tr>
<th>key</th>
<th style="text-align:center">value</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td style="text-align:center">Tue Jul 23 2019 09:01:11 GMT+0800 (中国标准时间)</td>
</tr>
<tr>
<td>date.constructor</td>
<td style="text-align:center">ƒ Date() { [native code] }</td>
</tr>
<tr>
<td>date.getDate()</td>
<td style="text-align:center">23</td>
</tr>
<tr>
<td>date.getDay()</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td>date.getMonth()</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td>date.getFullYear()</td>
<td style="text-align:center">2019</td>
</tr>
<tr>
<td>date.getHours()</td>
<td style="text-align:center">9</td>
</tr>
<tr>
<td>date.getMinutes()</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td>date.getSeconds()</td>
<td style="text-align:center">11</td>
</tr>
<tr>
<td>date.setDate(12)</td>
<td style="text-align:center">1562893271338</td>
</tr>
<tr>
<td>date.getDate()</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td>date.setMonth(1)</td>
<td style="text-align:center">1549933271338</td>
</tr>
<tr>
<td>date.getMonth()</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<h1 id="时间格式">时间格式</h1>
<h3 id="3-种时间格式">3 种时间格式：</h3>
<ul>
<li><strong>GMT</strong>（Greenwich Mean Time），即格林尼治平均时；</li>
<li><strong>UTC</strong>（Universal Time Coordinated），即通用协调时；</li>
<li><strong>Timestamp</strong>，即时间戳，是指格林尼治时间1970年01月01日00时00分00秒起至现在的毫秒数。</li>
</ul>
<p><strong>GMT</strong> 与 <strong>UTC</strong> 一样，都是指英国伦敦的本地时间，区别在于 <strong>GMT</strong> 是根据地球的自传和公转来计算时间，<strong>UTC</strong> 是根据原子钟来计算时间。例如，<strong>GMT</strong>、<strong>UTC</strong>：<code>Sun Jul 08 2018 15:30:26 GMT+0800</code>，其中，<code>GMT+0800</code> 表示时区，<code>+0800</code> 表示比格林尼治时间时间多了 8 个时区，也就是北京时间比伦敦时间晚 8 个小时。</p>
<h1 id="date-内置对象">Date 内置对象</h1>
<h2 id="一-作普通函数调用">一、作普通函数调用</h2>
<p>返回 GMT 格式的当前时间的字符串，传入任何参数都无效。</p>
<pre><code>// Chrome Console
&gt;  Date();
&lt;· &quot;Tue Jul 23 2019 09:18:57 GMT+0800 (中国标准时间)&quot;

&gt;  Date('2018-06-24');
&lt;· &quot;Tue Jul 23 2019 09:19:32 GMT+0800 (中国标准时间)&quot;
</code></pre>
<h2 id="二-作构造函数用">二、作构造函数用</h2>
<p>使用 new 操作符，则返回 GMT 格式的时间对象，其参数分为 3 类：</p>
<h3 id="1-时间戳number类型">1、时间戳，number类型</h3>
<pre><code>// Chrome Console
&gt;  new Date(1549933271338);
&lt;· Tue Feb 12 2019 09:01:11 GMT+0800 (中国标准时间)
</code></pre>
<h3 id="2-表示日期的字符串">2、表示日期的字符串</h3>
<ul>
<li>yyyy-MM-dd HH:mm:ss<pre><code>// Chrome Console
&gt;  new Date(''2019-07-23 08:56:20'');
&lt;· Tue Jul 23 2019 08:56:20 GMT+0800 (中国标准时间)
</code></pre>
</li>
<li>yyyy-MM-ddTHH:mm:ss<br>
<em>其实跟第一个是一个意思。</em><pre><code>// Chrome Console
&gt;  new Date(''2019-07-23T08:56:20'');
&lt;· Tue Jul 23 2019 08:56:20 GMT+0800 (中国标准时间)
</code></pre>
</li>
<li>Sun Jul 08, 2018 16:18:54 GMT<br>
<em>其实就是 GMT(UTC) 格式的字符串。</em><pre><code>// Chrome Console
&gt;  new Date('Tue Jul 23 2019 09:01:11 GMT');
&lt;· Tue Jul 23 2019 17:01:11 GMT+0800 (中国标准时间)
</code></pre>
</li>
</ul>
<h3 id="3-year-month-day-hour-minutes-seconds-milliseconds">3、（year, month, day, hour, minutes, seconds, milliseconds）</h3>
<pre><code>// Chrome Console
&gt;  new Date(2019, 07, 23, 09, 28, 55)
&lt;· Fri Aug 23 2019 09:28:55 GMT+0800 (中国标准时间)
</code></pre>
<h3 id="4-如果不传参数则会根据系统设置的当前时间来创建一个-date-对象">4、如果不传参数，则会根据系统设置的当前时间来创建一个 Date 对象</h3>
<h2 id="三-需要注意的地方">三、需要注意的地方</h2>
<ol>
<li>构造函数的参数省略<br>
关于 Date 构造函数的参数省略（是指省略其中的年、月、日之类的，不是省略整个参数）可能会出错。
<ul>
<li>只指定“时分秒”，会出错<pre><code> // Chrome Console
 &gt;  new Date('09:33:55');
 &lt;· Invalid Date
</code></pre>
</li>
<li>分隔符非常重要，可以省略具体时间，但不能省略分隔符<pre><code>// Chrome Console
&gt;  new Date('-07- 09:33:55');
&lt;· Sun Jul 01 2001 09:33:55 GMT+0800 (中国标准时间)

&gt;  new Date('23 09:35:55');
&lt;· Invalid Date
</code></pre>
</li>
</ul>
</li>
<li>JavaScript中，月份是从 0 开始计时的，比如用 2019-07-23 初始化的时间对象获取月份<pre><code>// Chrome Console
&gt;  new Date('2019-07-23').getMonth();
&lt;· 6
</code></pre>
</li>
<li><code>getDate()</code> 是返回一个月的第几天，<code>getDay()</code> 是返回一星期的第几天，其中 0 为星期天</li>
<li>获取年份是 <code>getFullYear()</code>，而不是 <code>getYear()</code></li>
<li><code>valueOf()</code> 返回原始值，与调用 <code>getTime()一样</code>，返回时间戳，一般是用于内部调用，可能是 <code>getTime()</code> 的内部实现</li>
</ol>
<h2 id="四-工具函数">四、工具函数</h2>
<pre><code>// javascript
/**
 * 时间戳 转换为 yyyy-MM-dd HH:mm:ss
 * @param {number} timestamp 
 * @param {string} format 
 */
function timestampToDateTime(timestamp = Date.now(), format = 'yyyy-MM-dd HH:mm:ss') {
  if (isNaN(timestamp)) {
    return '';
  }
  if (format.length &lt; 4 || 'yyyy-MM-dd HH:mm:ss'.indexOf(format) !== 0) {
    return '';
  }
  const date = new Date(Number(timestamp));
  const year = date.getFullYear();
  const month = date.getMonth() + 1;
  const day = date.getDate();
  const hour = date.getHours();
  const minute = date.getMinutes();
  const second = date.getSeconds();
  return format.replace('yyyy', year)
    .replace('MM', month &gt; 9 ? month : `0${month}`)
    .replace('dd', day &gt; 9 ? day : `0${day}`)
    .replace('HH', hour &gt; 9 ? hour : `0${hour}`)
    .replace('mm', minute &gt; 9 ? minute : `0${minute}`)
    .replace('ss', second &gt; 9 ? second : `0${second}`);
}
</code></pre>

            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://tdmaker.github.io/randy-blogs//post/the-past-and-present-of artificial-intelligence">
              <h3 class="post-title">
                人工智能的前世今生
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://tdmaker.github.io/randy-blogs//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
